<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charity Water Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Simple visually hidden heading for screen readers -->
    <h1 class="sr-only">Welcome to the Charity Water Game Prototype</h1>

    <!-- First screen: Main menu / intro -->
    <div id="screen-1" class="app-screen screen-center">
        <div class="card intro-card">
            <h2>Adam's Ale — Community Well Project</h2>
            <p class="lead">Welcome! Build a well, place tools, and deliver water to the village.</p>
            <div class="intro-actions">
                <button id="startBtn" class="btn primary">Start Mission</button>
                <button id="loadBtn" class="btn">Continue (Load)</button>
            </div>
            <p class="small">This prototype uses simple HTML/CSS/JS so students can learn DOM programming.</p>
        </div>
    </div>

    <!-- Second screen: Desktop / Laptop layout -->
    <div id="screen-2" class="app-screen hidden">
        <header class="app-header">
            <div class="left">
                <button id="backBtn" class="btn">← Back</button>
                <h2>Adam's Ale — Community Well Project</h2>
            </div>
            <div class="right">
                <button id="helpBtn" class="btn">Help</button>
            </div>
        </header>

        <main class="app-main">
            <!-- Left panel: player / mission info -->
            <aside class="panel left-panel">
                <section class="profile card">
                    <h3>Player</h3>
                    <p id="playerName">Player 1</p>
                    <p>Funds: $<span id="funds">100</span></p>
                    <p>Water Delivered: <span id="waterDelivered">0</span> L</p>
                </section>

                <section class="mission card">
                    <h3>Mission</h3>
                    <p>Build a well and deliver water to the village.</p>
                    <button id="startMission" class="btn primary">Start Mission</button>
                </section>
            </aside>

            <!-- Center: map / placement area -->
            <section class="game-area card">
                <h3>Site Map</h3>
                <div id="mapGrid" class="map-grid" aria-label="Site map">
                    <!-- map tiles generated by JS -->
                </div>

                <div class="map-actions">
                    <button id="deliverWater" class="btn primary">Deliver Water (+10L)</button>
                    <span id="statusText" class="status">Select a tool from the shop and click a tile to place it.</span>
                </div>
            </section>

            <!-- Right panel: shop / items -->
            <aside class="panel right-panel">
                <section class="shop card">
                    <h3>Shop</h3>
                    <div id="shopList" class="shop-list">
                        <!-- shop items generated by JS -->
                    </div>
                </section>

                <section class="inventory card">
                    <h3>Inventory</h3>
                    <ul id="inventoryList">
                        <li>No items placed yet.</li>
                    </ul>
                </section>
            </aside>
        </main>

        <footer class="app-footer">
            <small>Desktop preview — responsive layout intended for laptop/desktop</small>
        </footer>
    </div>

    <!-- Loading overlay (hidden by default) -->
    <div id="loadingOverlay" class="loading-overlay hidden" role="status" aria-live="polite">
        <div class="loader">
            <!-- Yellow jerry can: visually represents water filling while loading -->
            <!-- Inline SVG jerry can for crisper visuals. The water rect is animated via JS. -->
            <svg class="jerrycan" viewBox="0 0 56 68" width="68" height="84" aria-hidden="true">
                <!-- body outline with subtle stroke -->
                <rect x="0" y="0" width="56" height="68" rx="6" fill="#FFC907" stroke="#e6a800" stroke-width="1"></rect>
                <!-- small decorative seam -->
                <rect x="6" y="10" width="44" height="2" fill="#f6c33a" opacity="0.6"></rect>
                <!-- cap -->
                <rect x="42" y="4" width="10" height="6" rx="2" fill="#d97706"></rect>
                <!-- handle (simple rounded path) -->
                <path d="M8 -2 q8 -6 18 0" fill="none" stroke="#be5f03" stroke-width="4" stroke-linecap="round"></path>
                <!-- gradient definition -->
                <defs>
                    <linearGradient id="waterGradient" x1="0" x2="0" y1="0" y2="1">
                        <stop offset="0%" stop-color="#60a5fa" />
                        <stop offset="100%" stop-color="#1e3a8a" />
                    </linearGradient>
                </defs>
                <!-- water is a rect anchored to the bottom; transform used to scale it -->
                <rect id="waterRect" class="water" x="0" y="0" width="56" height="68" fill="url(#waterGradient)"></rect>
                <!-- splash group: 3 droplets positioned above the can -->
                <g class="splash" transform="translate(4,-6)">
                    <circle class="drop" cx="10" cy="58" r="2" fill="#60a5fa" opacity="0"></circle>
                    <circle class="drop" cx="26" cy="58" r="2" fill="#60a5fa" opacity="0"></circle>
                    <circle class="drop" cx="42" cy="58" r="2" fill="#60a5fa" opacity="0"></circle>
                </g>
            </svg>
            <!-- Accessible progress text (aria-live) -->
            <div id="loaderPercent" class="loader-percent" role="status" aria-live="polite">0%</div>
            <div class="loader-text">Loading game...</div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>